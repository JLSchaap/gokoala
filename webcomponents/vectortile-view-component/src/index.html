<!doctype html>
<meta name="viewport" content="width=device-width, initial-scale=1" />
<html lang="en">
  <head>
    <meta charset="utf-8" />
    <title>OGC API map component samples</title>
    <style>
      #itemurl {
        width: 60vw;
        padding: 2px;
      }
    </style>
  </head>

  <body onload="load()">
    <label for="itemurl">Item Url:</label>
    <input type="url" id="itemurl" name="itemurl" title="" /><br /><br />
    <label for="itemprojection">projection:</label>
    <input type="string" id="itemprojection" name="itemprojection" title="" /><br /><br />
    <label for="endpoints">or choose sample url:</label>

    <select name="endpoints" id="endpoints" onclick="fillDefault()">
      <option value="http://localhost:4200/testdata/airports.json">Airports</option>
      <option value="http://localhost:4200/testdata/wegdelen.geojson">Wegdelen BGT</option>
      <option
        value="https://geo.api.vlaanderen.be/Adressenregister/ogc/features/collections/Adres/items?f=application%2Fgeo%2Bjson&limit=50">
        Adressen inVlaanderen
      </option>
    </select>

    <input onclick="showMap()" type="button" value="Show" />
    <div>show map for:</div>
    <a id="showurl">placeholdertext</a>
    <app-feature-view id="featuresample" items-url=""></app-feature-view>

    <app-feature-view
      id="wegdelensample"
      items-url="https://api.pdok.nl/lv/bgt/ogc/v1_0-preprod/collections/wegdelen/items?f=json"
      projection="EPSG:28992"
      background-map="BRT">
    </app-feature-view>
  </body>
  <script>
    function load() {
      const showurl =
        'https://geo.api.vlaanderen.be/Adressenregister/ogc/features/collections/Adres/items?f=application%2Fgeo%2Bjson&limit=50'
      const showprojection = 'EPSG:3857' // 'EPSG:28992'
      itemurl.value = showurl
      itemurl.title = showurl
      itemprojection.value = showprojection
      itemprojection.title = showprojection
      showMap()
    }
    function showMap() {
      const url = itemurl.value
      const p = itemprojection.value
      showurl.innerHTML = url + '     using (projection ' + p + ')'
      showurl.href = url

      const map = document.getElementById('featuresample')
      map.setAttribute('items-url', url)
      map.setAttribute('projection', p)
    }
    function fillDefault() {
      const defaulturl = document.getElementById('endpoints').value
      itemurl.value = defaulturl
      itemurl.title = defaulturl
      showMap()
    }
  </script>
</html>
