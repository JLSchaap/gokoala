{{- /*gotype: github.com/PDOK/gokoala/engine.TemplateData*/ -}}
{
  "id" : "{{ .Params.ID }}",
  "title" : "{{ .Params.ID }}",
  {{ if and .Params.Metadata .Params.Metadata.Description }}
  "description" : "{{ unmarkdown .Params.Metadata.Description }}",
  {{ end }}
  {{ if and .Config.OgcAPI.GeoVolumes .Config.OgcAPI.GeoVolumes.Collections }}
  "collectionType" : "3d-container",
  {{ end }}
  {{ if and .Params.Metadata .Params.Metadata.Extent }}
  "extent" : {
    "spatial": {
      "bbox": [ [ {{ .Params.Metadata.Extent.Bbox | join "," }} ] ],
      "crs" : "http://www.opengis.net/def/crs/EPSG/0/{{ trimPrefix "EPSG:" .Params.Metadata.Extent.Srs.EPSG }}"
    }
  },
  {{ end }}
  "links" : [
    {
      "rel" : "self",
      "type" : "application/json",
      "title" : "This document as JSON",
      "href" : "{{ .Config.BaseURL }}/collections/{{ .Params }}?f=json"
    },
    {
      "rel" : "alternate",
      "type" : "text/html",
      "title" : "This document as HTML",
      "href" : "{{ .Config.BaseURL }}/collections/{{ .Params }}?f=html"
    }
    {{ if and .Config.OgcAPI.GeoVolumes .Config.OgcAPI.GeoVolumes.Collections }}
    ,
    {
      "rel" : "items",
      "type" : "application/json+3dtiles",
      "title" : "Tileset definition of collection {{ .Params }} according to the OGC 3D Tiles specification",
      "href" : "{{ .Config.BaseURL }}/collections/{{ .Params }}/3dtiles?f=json"
    }
    {{ end }}
    {{ if and .Config.OgcAPI.Tiles .Config.OgcAPI.Tiles.Collections }}
    ,
    {
      "rel" : "http://www.opengis.net/def/rel/ogc/1.0/tilesets-vector",
      "type" : "application/json",
      "title" : "The JSON representation of the {{ .Params }} tiles served from this endpoint",
      "href" : "{{ .Config.BaseURL }}/collections/{{ .Params }}/tiles?f=json"
    },
    {
      "rel" : "alternate",
      "type" : "text/html",
      "title" : "The HTML representation of the {{ .Params }} tiles served from this endpoint",
      "href" : "{{ .Config.BaseURL }}/collections/{{ .Params }}/tiles?f=html"
    }
    {{ end }}
    {{ if and .Config.OgcAPI.Features .Config.OgcAPI.Features.Collections }}
    ,
    {
      "rel" : "items",
      "type" : "application/json",
      "title" : "The JSON representation of the {{ .Params }} features served from this endpoint",
      "href" : "{{ .Config.BaseURL }}/collections/{{ .Params }}/items?f=json"
    },
    {
      "rel" : "items",
      "type" : "text/html",
      "title" : "The HTML representation of the {{ .Params }} features served from this endpoint",
      "href" : "{{ .Config.BaseURL }}/collections/{{ .Params }}/items?f=html"
    }
    {{ end }}
    {{ if and .Config.OgcAPI.Maps .Config.OgcAPI.Maps.Collections }}
    ,
    {
      "rel" : "items",
      "type" : "application/<sometype>",
      "title" : "TODO",
      "href" : "{{ .Config.BaseURL }}/collections/{{ .Params }}/map/tiles?f=json"
    },
    {{ end }}
  ]
  {{ if and .Config.OgcAPI.GeoVolumes .Config.OgcAPI.GeoVolumes.Collections }}
  ,
  "content" : [
    {
      "rel" : "original",
      "type" : "application/json+3dtiles",
      "title" : "Tileset definition of collection {{ .Params }} according to the OGC 3D Tiles specification",
      "href" : "{{ .Config.BaseURL }}/collections/{{ .Params }}/3dtiles?f=json",
      "collectionType": "3d-container"
    }
  ]
  {{ end }}
}
